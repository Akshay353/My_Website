<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrowdWatch - Integrated Disaster Monitoring Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 15px 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

.logo {
  font-size: 1.5em;
  font-weight: bold;

  /* Gradient background */
  background: linear-gradient(45deg, #667eea, #764ba2);

  /* Chrome, Safari, Edge */
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;

  /* Firefox */
  background-clip: text;
  color: transparent;
}

        .nav-menu {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .nav-item {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
        }

        .nav-item:hover,
        .nav-item.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        /* Page Content */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .page-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
        }

.page-header h1 {
  font-size: 2.5em;
  font-weight: bold;

  /* Gradient background */
  background: linear-gradient(45deg, #667eea, #764ba2);

  /* Chrome, Safari, Edge */
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;

  /* Firefox support */
  background-clip: text;
  color: transparent;

  margin-bottom: 15px;
}

        .page-header p {
            color: #666;
            font-size: 1.2em;
            max-width: 600px;
            margin: 0 auto;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        /* Dashboard Styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

.stat-number {
  font-size: 2.5em;
  font-weight: bold;
  background: linear-gradient(45deg, #667eea, #764ba2);
  -webkit-background-clip: text;   /* For Chrome, Safari, Edge */
  -webkit-text-fill-color: transparent; /* For Chrome, Safari, Edge */
  background-clip: text;           /* For Firefox */
  color: transparent;              /* For Firefox */
  margin-bottom: 10px;
}


        .stat-label {
            color: #666;
            font-weight: 600;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        #map {
            height: 500px;
            border-radius: 15px;
            overflow: hidden;
        }

        .activity-feed {
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #e1e5e9;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            color: white;
        }

        .activity-icon.report { background: #ff6b6b; }
        .activity-icon.social { background: #4ecdc4; }
        .activity-icon.alert { background: #ffa726; }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .activity-time {
            color: #666;
            font-size: 0.9em;
        }

        /* Report Form Styles */
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.2);
        }

        .file-upload {
            position: relative;
            display: inline-block;
            cursor: pointer;
            width: 100%;
        }

        .file-upload input[type=file] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-upload-label {
            display: block;
            padding: 20px;
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s ease;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 10px;
        }

        .file-upload:hover .file-upload-label {
            border-color: #667eea;
            background: #f0f2ff;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-full {
            width: 100%;
        }

        /* NLP Analysis Styles */
        .nlp-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .keyword-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .keyword-tag {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: 500;
        }

        .sentiment-chart {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .sentiment-bar {
            flex: 1;
            height: 20px;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .sentiment-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .sentiment-positive { background: #4CAF50; }
        .sentiment-neutral { background: #FF9800; }
        .sentiment-negative { background: #F44336; }

        /* API Management Styles */
        .api-endpoint {
            background: #f8f9fa;
            border: 1px solid #e1e5e9;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .api-method {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
            margin-right: 15px;
        }

        .method-get { background: #4CAF50; }
        .method-post { background: #2196F3; }
        .method-put { background: #FF9800; }
        .method-delete { background: #F44336; }

        .api-url {
            font-family: monospace;
            background: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }

        /* Settings Styles */
        .settings-section {
            margin-bottom: 40px;
        }

        .settings-section h3 {
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e1e5e9;
        }

        .language-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .language-option {
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .language-option:hover,
        .language-option.active {
            border-color: #667eea;
            background: #f0f2ff;
        }

        .offline-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ff6b6b;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9em;
            display: none;
            z-index: 1000;
            animation: pulse 2s infinite;
        }

        .offline-indicator.offline {
            display: block;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .dashboard-grid,
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-menu {
                justify-content: center;
                width: 100%;
            }
            
            .navbar {
                flex-direction: column;
            }
            
            .page-header h1 {
                font-size: 2em;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="offline-indicator" id="offlineIndicator">
        📡 Offline Mode - Data will sync when connection restored
    </div>

    <div class="container">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="logo">🌊 CrowdWatch</div>
            <div class="nav-menu">
                <a href="#" class="nav-item active" data-page="dashboard">Dashboard</a>
                <a href="#" class="nav-item" data-page="report">Submit Report</a>
                <a href="#" class="nav-item" data-page="nlp">NLP Analysis</a>
                <a href="#" class="nav-item" data-page="api">API Management</a>
                <a href="#" class="nav-item" data-page="settings">Settings</a>
            </div>
        </nav>

        <!-- Dashboard Page -->
        <div id="dashboard" class="page active">
            <div class="page-header">
                <h1>📊 Live Dashboard</h1>
                <p>Real-time monitoring of crowd reports, social media activity, and threat indicators</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="activeReports">127</div>
                    <div class="stat-label">Active Reports</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="hotspots">8</div>
                    <div class="stat-label">Active Hotspots</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="socialPosts">2.3K</div>
                    <div class="stat-label">Social Media Posts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="riskLevel">Medium</div>
                    <div class="stat-label">Current Risk Level</div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <h3>🗺️ Interactive Map</h3>
                    <div id="map"></div>
                </div>

                <div class="card">
                    <h3>🔥 Live Activity Feed</h3>
                    <div class="activity-feed" id="activityFeed">
                        <div class="activity-item">
                            <div class="activity-icon report">R</div>
                            <div class="activity-content">
                                <div class="activity-title">Flood report in Marina Beach</div>
                                <div class="activity-time">2 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon social">S</div>
                            <div class="activity-content">
                                <div class="activity-title">High social media activity detected</div>
                                <div class="activity-time">5 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon alert">A</div>
                            <div class="activity-content">
                                <div class="activity-title">Tsunami warning issued</div>
                                <div class="activity-time">12 minutes ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Report Submission Page -->
        <div id="report" class="page">
            <div class="page-header">
                <h1>📱 Submit Report</h1>
                <p>Help keep our community safe by reporting disasters and hazards in real-time</p>
            </div>

            <div class="form-grid">
                <div class="card">
                    <h3>Report Details</h3>
                    <form id="reportForm">
                        <div class="form-group">
                            <label for="reportType">Report Type</label>
                            <select id="reportType" required>
                                <option value="">Select type...</option>
                                <option value="flooding">🌊 Flooding</option>
                                <option value="storm">⛈️ Storm Activity</option>
                                <option value="tsunami">🌊 Tsunami Warning</option>
                                <option value="earthquake">🏠 Earthquake</option>
                                <option value="wildfire">🔥 Wildfire</option>
                                <option value="landslide">⛰️ Landslide</option>
                                <option value="other">⚠️ Other Emergency</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="severity">Severity Level</label>
                            <select id="severity" required>
                                <option value="">Select severity...</option>
                                <option value="low">🟢 Low - Minor concern</option>
                                <option value="medium">🟡 Medium - Moderate risk</option>
                                <option value="high">🟠 High - Immediate danger</option>
                                <option value="critical">🔴 Critical - Emergency</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="location">Location</label>
                            <input type="text" id="location" placeholder="Address, landmark, or coordinates" required>
                        </div>

                        <div class="form-group">
                            <label for="description">Detailed Description</label>
                            <textarea id="description" rows="6" placeholder="Provide detailed information about what you're observing, including conditions, affected areas, and any immediate dangers..." required></textarea>
                        </div>

                        <div class="form-group">
                            <label for="contactInfo">Contact Information (Optional)</label>
                            <input type="text" id="contactInfo" placeholder="Phone number or email for follow-up">
                        </div>

                        <button type="submit" class="btn btn-full">Submit Report</button>
                    </form>
                </div>

                <div class="card">
                    <h3>📸 Media Upload</h3>
                    <div class="form-group">
                        <label>Upload Photos/Videos</label>
                        <div class="file-upload">
                            <input type="file" id="mediaUpload" multiple accept="image/*,video/*">
                            <label for="mediaUpload" class="file-upload-label">
                                <div style="font-size: 3em;">📸</div>
                                <div>Click to upload photos/videos</div>
                                <div style="font-size: 0.9em; color: #666;">Max 10MB per file</div>
                            </label>
                        </div>
                    </div>

                    <div class="card" style="background: #e8f5e8; margin-top: 20px;">
                        <h3>💡 Reporting Tips</h3>
                        <ul style="margin-left: 20px; line-height: 1.6;">
                            <li>Include specific location details</li>
                            <li>Describe current conditions accurately</li>
                            <li>Upload clear photos if safe to do so</li>
                            <li>Report only what you directly observe</li>
                            <li>Update severity if conditions change</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- NLP Analysis Page -->
        <div id="nlp" class="page">
            <div class="page-header">
                <h1>🤖 NLP Analysis</h1>
                <p>Advanced natural language processing for social media monitoring and threat detection</p>
            </div>

            <div class="nlp-grid">
                <div class="card">
                    <h3>🔥 Trending Keywords</h3>
                    <p>Most mentioned disaster-related terms in the last hour:</p>
                    <div class="keyword-cloud">
                        <span class="keyword-tag">tsunami</span>
                        <span class="keyword-tag">flooding</span>
                        <span class="keyword-tag">evacuation</span>
                        <span class="keyword-tag">emergency</span>
                        <span class="keyword-tag">rescue</span>
                        <span class="keyword-tag">shelter</span>
                        <span class="keyword-tag">storm</span>
                        <span class="keyword-tag">damage</span>
                    </div>
                    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e1e5e9;">
                        <strong>Engagement Spike:</strong> 340% increase in disaster-related posts<br>
                        <strong>Geographic Focus:</strong> Coastal regions (78% of mentions)
                    </div>
                </div>

                <div class="card">
                    <h3>📈 Sentiment Analysis</h3>
                    <div class="sentiment-chart">
                        <span>Positive</span>
                        <div class="sentiment-bar">
                            <div class="sentiment-fill sentiment-positive" style="width: 15%;"></div>
                        </div>
                        <span>15%</span>
                    </div>
                    <div class="sentiment-chart">
                        <span>Neutral</span>
                        <div class="sentiment-bar">
                            <div class="sentiment-fill sentiment-neutral" style="width: 25%;"></div>
                        </div>
                        <span>25%</span>
                    </div>
                    <div class="sentiment-chart">
                        <span>Concerned</span>
                        <div class="sentiment-bar">
                            <div class="sentiment-fill sentiment-negative" style="width: 60%;"></div>
                        </div>
                        <span>60%</span>
                    </div>
                </div>

                <div class="card">
                    <h3>🌐 Language Detection</h3>
                    <div style="margin-bottom: 15px;">
                        <strong>Detected Languages:</strong>
                    </div>
                    <div>
                        • English: 45% (2,340 posts)<br>
                        • Tamil: 28% (1,456 posts)<br>
                        • Telugu: 15% (780 posts)<br>
                        • Hindi: 8% (416 posts)<br>
                        • French: 4% (208 posts)
                    </div>
                </div>

                <div class="card">
                    <h3>⚡ Real-time Alerts</h3>
                    <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <strong>🚨 High Priority:</strong> Unusual spike in "tsunami" mentions detected in coastal areas
                    </div>
                    <div style="background: #f8d7da; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <strong>🔴 Critical:</strong> Emergency services keywords trending in Marina Beach area
                    </div>
                    <div style="background: #d1ecf1; padding: 15px; border-radius: 8px;">
                        <strong>ℹ️ Info:</strong> Weather-related discussions increasing (normal pattern)
                    </div>
                </div>

                <div class="card">
                    <h3>📊 Engagement Metrics</h3>
                    <div>
                        <strong>Total Posts Analyzed:</strong> 5,200<br>
                        <strong>High-Priority Posts:</strong> 312<br>
                        <strong>Verified Reports:</strong> 89<br>
                        <strong>False Positives:</strong> 23<br>
                        <strong>Accuracy Rate:</strong> 92.6%
                    </div>
                </div>

                <div class="card">
                    <h3>🎯 Threat Detection</h3>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                        <strong>AI Confidence Levels:</strong><br><br>
                        🟢 Flood Detection: 89% confidence<br>
                        🟡 Storm Activity: 67% confidence<br>
                        🔴 Tsunami Risk: 12% confidence<br>
                        🟢 Infrastructure Damage: 78% confidence
                    </div>
                </div>
            </div>
        </div>

        <!-- API Management Page -->
        <div id="api" class="page">
            <div class="page-header">
                <h1>⚙️ API Management</h1>
                <p>Backend database and API endpoints for data management and integration with early warning systems</p>
            </div>

            <div class="card">
                <h3>🔗 API Endpoints</h3>
                
                <div class="api-endpoint">
                    <span class="api-method method-get">GET</span>
                    <strong>/api/reports</strong>
                    <div class="api-url">https://api.crowdwatch.com/v1/reports</div>
                    <p>Retrieve all crowd reports with optional filtering by location, type, and time range.</p>
                </div>

                <div class="api-endpoint">
                    <span class="api-method method-post">POST</span>
                    <strong>/api/reports</strong>
                    <div class="api-url">https://api.crowdwatch.com/v1/reports</div>
                    <p>Submit a new crowd report with media attachments and location data.</p>
                </div>

                <div class="api-endpoint">
                    <span class="api-method method-get">GET</span>
                    <strong>/api/hotspots</strong>
                    <div class="api-url">https://api.crowdwatch.com/v1/hotspots</div>
                    <p>Get dynamically generated hotspots based on report volume and threat indicators.</p>
                </div>

                <div class="api-endpoint">
                    <span class="api-method method-get">GET</span>
                    <strong>/api/social-media</strong>
                    <div class="api-url">https://api.crowdwatch.com/v1/social-media</div>
                    <p>Access processed social media data with NLP analysis results.</p>
                </div>

                <div class="api-endpoint">
                    <span class="api-method method-post">POST</span>
                    <strong>/api/early-warning</strong>
                    <div class="api-url">https://api.crowdwatch.com/v1/early-warning</div>
                    <p>Integration endpoint for external early warning systems and government alerts.</p>
                </div>
            </div>

            <div class="card">
                <h3>💾 Database Schema</h3>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; font-family: monospace;">
                    <strong>Reports Table:</strong><br>
                    - id (UUID)<br>
                    - type (enum: flooding, storm, tsunami, etc.)<br>
                    - severity (enum: low, medium, high, critical)<br>
                    - location (point geometry)<br>
                    - description (text)<br>
                    - media_urls (json array)<br>
                    - timestamp (datetime)<br>
                    - verified (boolean)<br><br>

                    <strong>Social Media Posts Table:</strong><br>
                    - id (UUID)<br>
                    - platform (enum: twitter, facebook, instagram)<br>
                    - content (text)<br>
                    - sentiment_score (float)<br>
                    - keywords (json array)<br>
                    - location (point geometry)<br>
                    - engagement_metrics (json)<br>
                    - processed_at (datetime)
                </div>
            </div>

            <div class="card">
                <h3>📈 API Usage Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">1.2M</div>
                        <div class="stat-label">Total API Calls</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">99.8%</div>
                        <div class="stat-label">Uptime</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">45ms</div>
                        <div class="stat-label">Avg Response Time</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">127</div>
                        <div class="stat-label">Active Integrations</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Page -->
        <div id="settings" class="page">
            <div class="page-header">
                <h1>⚙️ Settings & Configuration</h1>
                <p>Multilingual support, offline capabilities, and system configuration options</p>
            </div>

            <div class="card">
                <div class="settings-section">
                    <h3>🌐 Language & Regional Settings</h3>
                    <p>Configure multilingual support for regional accessibility:</p>
                    
                    <div class="language-grid">
                        <div class="language-option active" data-lang="en">
                            <strong>🇺🇸 English</strong><br>
                            <small>Primary Language</small>
                        </div>
                        <div class="language-option" data-lang="es">
                            <strong>🇪🇸 Español</strong><br>
                            <small>Spanish</small>
                        </div>
                        <div class="language-option" data-lang="fr">
                            <strong>🇫🇷 Français</strong><br>
                            <small>French</small>
                        </div>
                        <div class="language-option" data-lang="hi">
                            <strong>🇮🇳 हिंदी</strong><br>
                            <small>Hindi</small>
                        </div>
                        <div class="language-option" data-lang="ta">
                            <strong>🇮🇳 தமிழ்</strong><br>
                            <small>Tamil</small>
                        </div>
                        <div class="language-option" data-lang="te">
                            <strong>🇮🇳 తెలుగు</strong><br>
                            <small>Telugu</small>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>📱 Offline Data Collection</h3>
                    <p>Configure offline capabilities for remote coastal areas:</p>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="offlineMode" checked> Enable offline data collection
                        </label>
                        <small style="color: #666;">Reports will be stored locally and synchronized when connection is restored</small>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="autoSync" checked> Auto-sync when online
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="syncInterval">Sync Interval (minutes):</label>
                        <select id="syncInterval">
                            <option value="5">5 minutes</option>
                            <option value="15" selected>15 minutes</option>
                            <option value="30">30 minutes</option>
                            <option value="60">1 hour</option>
                        </select>
                    </div>
                    
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin-top: 15px;">
                        <strong>📊 Offline Storage Status:</strong><br>
                        • Cached reports: 23<br>
                        • Storage used: 2.4 MB<br>
                        • Last sync: 5 minutes ago
                    </div>
                </div>

                <div class="settings-section">
                    <h3>🚨 Alert & Notification Settings</h3>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="browserNotifications" checked> Browser notifications
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="emailAlerts" checked> Email alerts for high-severity events
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="smsAlerts"> SMS alerts (premium feature)
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="alertRadius">Alert radius (km):</label>
                        <select id="alertRadius">
                            <option value="5">5 km</option>
                            <option value="10" selected>10 km</option>
                            <option value="25">25 km</option>
                            <option value="50">50 km</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>🤖 NLP Engine Configuration</h3>
                    
                    <div class="form-group">
                        <label for="nlpSensitivity">Detection Sensitivity:</label>
                        <select id="nlpSensitivity">
                            <option value="low">Low - Fewer false positives</option>
                            <option value="medium" selected>Medium - Balanced</option>
                            <option value="high">High - Catch more events</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="multilangNLP" checked> Multi-language processing
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="sentimentAnalysis" checked> Real-time sentiment analysis
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="keywordThreshold">Keyword trending threshold:</label>
                        <input type="range" id="keywordThreshold" min="10" max="100" value="50">
                        <small style="color: #666;">Current: 50 mentions/hour</small>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>🗺️ Map & Visualization Settings</h3>
                    
                    <div class="form-group">
                        <label for="mapStyle">Map Style:</label>
                        <select id="mapStyle">
                            <option value="standard" selected>Standard</option>
                            <option value="satellite">Satellite</option>
                            <option value="terrain">Terrain</option>
                            <option value="dark">Dark Mode</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="showHeatmap" checked> Show intensity heatmap
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="clusterReports" checked> Cluster nearby reports
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="refreshInterval">Auto-refresh interval:</label>
                        <select id="refreshInterval">
                            <option value="30">30 seconds</option>
                            <option value="60" selected>1 minute</option>
                            <option value="300">5 minutes</option>
                            <option value="0">Manual only</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>🔐 Privacy & Data Settings</h3>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="shareLocation" checked> Share precise location with reports
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="anonymousReports"> Allow anonymous reporting
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="dataRetention">Data retention period:</label>
                        <select id="dataRetention">
                            <option value="30">30 days</option>
                            <option value="90" selected>90 days</option>
                            <option value="365">1 year</option>
                            <option value="0">Indefinite</option>
                        </select>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn" onclick="saveSettings()">💾 Save All Settings</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    <script>
        // Global variables
        let map;
        let reports = [];
        let offlineQueue = [];
        let currentLanguage = 'en';

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeNavigation();
            initializeMap();
            initializeOfflineDetection();
            initializeForms();
            startRealTimeUpdates();
        });

        // Navigation system
        function initializeNavigation() {
            const navItems = document.querySelectorAll('.nav-item');
            const pages = document.querySelectorAll('.page');

            navItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetPage = this.getAttribute('data-page');

                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');

                    // Show target page
                    pages.forEach(page => page.classList.remove('active'));
                    document.getElementById(targetPage).classList.add('active');

                    // Initialize map if dashboard is selected
                    if (targetPage === 'dashboard' && map) {
                        setTimeout(() => map.invalidateSize(), 100);
                    }
                });
            });
        }

        // Map initialization
        function initializeMap() {
            map = L.map('map').setView([11.9416, 79.8083], 10);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);

            // Add sample hotspots
            addSampleHotspots();
        }

        function addSampleHotspots() {
            const hotspots = [
                { lat: 11.9416, lng: 79.8083, intensity: 'high', type: 'flooding', reports: 15 },
                { lat: 11.9200, lng: 79.8400, intensity: 'medium', type: 'storm', reports: 8 },
                { lat: 12.0000, lng: 79.7500, intensity: 'low', type: 'other', reports: 3 }
            ];

            hotspots.forEach(hotspot => {
                const color = hotspot.intensity === 'high' ? '#ff4757' : 
                             hotspot.intensity === 'medium' ? '#ffa726' : '#26c6da';
                
                L.circleMarker([hotspot.lat, hotspot.lng], {
                    radius: hotspot.intensity === 'high' ? 15 : hotspot.intensity === 'medium' ? 10 : 7,
                    fillColor: color,
                    color: color,
                    weight: 2,
                    opacity: 0.8,
                    fillOpacity: 0.6
                }).addTo(map).bindPopup(`
                    <b>${hotspot.type.toUpperCase()} Hotspot</b><br>
                    Intensity: ${hotspot.intensity}<br>
                    Active reports: ${hotspot.reports}<br>
                    <small>Click for details</small>
                `);
            });
        }

        // Form handling
        function initializeForms() {
            const reportForm = document.getElementById('reportForm');
            const mediaUpload = document.getElementById('mediaUpload');

            reportForm.addEventListener('submit', function(e) {
                e.preventDefault();
                handleReportSubmission();
            });

            mediaUpload.addEventListener('change', function(e) {
                const files = e.target.files;
                if (files.length > 0) {
                    const label = document.querySelector('.file-upload-label');
                    label.innerHTML = `
                        <div style="font-size: 3em;">✅</div>
                        <div>${files.length} file(s) selected</div>
                        <div style="font-size: 0.9em; color: #666;">Ready to upload</div>
                    `;
                }
            });

            // Settings language options
            const languageOptions = document.querySelectorAll('.language-option');
            languageOptions.forEach(option => {
                option.addEventListener('click', function() {
                    languageOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    currentLanguage = this.getAttribute('data-lang');
                });
            });
        }

        function handleReportSubmission() {
            const formData = {
                type: document.getElementById('reportType').value,
                severity: document.getElementById('severity').value,
                location: document.getElementById('location').value,
                description: document.getElementById('description').value,
                contactInfo: document.getElementById('contactInfo').value,
                timestamp: new Date().toISOString(),
                media: document.getElementById('mediaUpload').files,
                id: Date.now(),
                language: currentLanguage
            };

            if (navigator.onLine) {
                submitReport(formData);
            } else {
                offlineQueue.push(formData);
                showOfflineMessage();
            }
            
            // Reset form
            document.getElementById('reportForm').reset();
            resetFileUpload();
        }

        function submitReport(data) {
            reports.push(data);
            
            // Add to map
            const lat = 11.9416 + (Math.random() - 0.5) * 0.1;
            const lng = 79.8083 + (Math.random() - 0.5) * 0.1;
            
            const severityColors = {
                low: '#4CAF50',
                medium: '#FF9800',
                high: '#FF5722',
                critical: '#F44336'
            };
            
            L.marker([lat, lng]).addTo(map).bindPopup(`
                <b>${data.type.toUpperCase()} Report</b><br>
                Severity: ${data.severity}<br>
                Location: ${data.location}<br>
                ${data.description}<br>
                <small>Reported: ${new Date(data.timestamp).toLocaleString()}</small>
            `);
            
            updateStatistics();
            addToActivityFeed(data);
            
            alert('Report submitted successfully! Thank you for helping keep our community safe.');
        }

        function resetFileUpload() {
            document.querySelector('.file-upload-label').innerHTML = `
                <div style="font-size: 3em;">📸</div>
                <div>Click to upload photos/videos</div>
                <div style="font-size: 0.9em; color: #666;">Max 10MB per file</div>
            `;
        }

        // Real-time updates
        function startRealTimeUpdates() {
            setInterval(() => {
                if (Math.random() > 0.6) {
                    simulateNewActivity();
                }
                updateNLPMetrics();
            }, 15000);
        }

        function simulateNewActivity() {
            const types = ['flooding', 'storm', 'tsunami', 'earthquake', 'other'];
            const severities = ['low', 'medium', 'high', 'critical'];
            const activities = ['report', 'social', 'alert'];
            
            const activity = activities[Math.floor(Math.random() * activities.length)];
            const type = types[Math.floor(Math.random() * types.length)];
            
            let title = '';
            if (activity === 'report') {
                title = `New ${type} report received`;
            } else if (activity === 'social') {
                title = `High ${type} activity on social media`;
            } else {
                title = `${type.charAt(0).toUpperCase() + type.slice(1)} alert issued`;
            }

            addToActivityFeed({
                type: activity,
                title: title,
                timestamp: new Date().toISOString()
            });
            
            updateStatistics();
        }

        function addToActivityFeed(data) {
            const feed = document.getElementById('activityFeed');
            const newItem = document.createElement('div');
            newItem.className = 'activity-item';
            
            const iconClass = data.type === 'report' ? 'report' : 
                             data.type === 'social' ? 'social' : 'alert';
            const iconText = iconClass.charAt(0).toUpperCase();
            
            newItem.innerHTML = `
                <div class="activity-icon ${iconClass}">${iconText}</div>
                <div class="activity-content">
                    <div class="activity-title">${data.title || 'New activity'}</div>
                    <div class="activity-time">Just now</div>
                </div>
            `;
            
            feed.insertBefore(newItem, feed.firstChild);
            
            // Remove old items
            if (feed.children.length > 15) {
                feed.removeChild(feed.lastChild);
            }
        }

        function updateStatistics() {
            const stats = {
                activeReports: Math.floor(Math.random() * 50) + 100,
                hotspots: Math.floor(Math.random() * 5) + 5,
                socialPosts: (Math.random() * 2 + 2).toFixed(1) + 'K',
                riskLevel: ['Low', 'Medium', 'High'][Math.floor(Math.random() * 3)]
            };
            
            Object.keys(stats).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = stats[key];
                }
            });
        }

        function updateNLPMetrics() {
            // Update sentiment bars with animation
            const sentimentBars = document.querySelectorAll('.sentiment-fill');
            sentimentBars.forEach(bar => {
                const newWidth = Math.floor(Math.random() * 80) + 10;
                bar.style.width = newWidth + '%';
                bar.parentNode.nextElementSibling.textContent = newWidth + '%';
            });
        }

        // Offline functionality
        function initializeOfflineDetection() {
            window.addEventListener('online', function() {
                document.getElementById('offlineIndicator').classList.remove('offline');
                syncOfflineData();
            });

            window.addEventListener('offline', function() {
                document.getElementById('offlineIndicator').classList.add('offline');
            });

            if (!navigator.onLine) {
                document.getElementById('offlineIndicator').classList.add('offline');
            }
        }

        function syncOfflineData() {
            if (offlineQueue.length > 0) {
                const count = offlineQueue.length;
                offlineQueue.forEach(data => submitReport(data));
                offlineQueue = [];
                alert(`✅ Synced ${count} offline reports successfully!`);
            }
        }

        function showOfflineMessage() {
            alert('📱 You are offline. Your report has been saved locally and will be submitted when connection is restored.');
        }

        // Settings functions
        function saveSettings() {
            const settings = {
                language: currentLanguage,
                offlineMode: document.getElementById('offlineMode').checked,
                autoSync: document.getElementById('autoSync').checked,
                syncInterval: document.getElementById('syncInterval').value,
                browserNotifications: document.getElementById('browserNotifications').checked,
                emailAlerts: document.getElementById('emailAlerts').checked,
                smsAlerts: document.getElementById('smsAlerts').checked,
                alertRadius: document.getElementById('alertRadius').value,
                nlpSensitivity: document.getElementById('nlpSensitivity').value,
                multilangNLP: document.getElementById('multilangNLP').checked,
                sentimentAnalysis: document.getElementById('sentimentAnalysis').checked,
                keywordThreshold: document.getElementById('keywordThreshold').value,
                mapStyle: document.getElementById('mapStyle').value,
                showHeatmap: document.getElementById('showHeatmap').checked,
                clusterReports: document.getElementById('clusterReports').checked,
                refreshInterval: document.getElementById('refreshInterval').value,
                shareLocation: document.getElementById('shareLocation').checked,
                anonymousReports: document.getElementById('anonymousReports').checked,
                dataRetention: document.getElementById('dataRetention').value
            };
            
            // In a real app, this would save to server/localStorage
            console.log('Settings saved:', settings);
            alert('✅ Settings saved successfully!');
        }

        // Request notification permission
        if (Notification.permission === 'default') {
            Notification.requestPermission();
        }

        // Initialize stats on load
        updateStatistics();
    </script>
</body>
</html>